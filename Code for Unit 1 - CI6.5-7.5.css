<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B1 Vocabulary Quiz - Unit 1</title>
    <style>
        /* Basic styling for the body */
        body {
            font-family: 'Inter', Arial, sans-serif; /* Using Inter font */
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5; /* Light gray background */
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better content flow */
            min-height: 100vh;
        }

        /* Container for the entire quiz */
        .quiz-container {
            max-width: 650px; /* Slightly wider for better readability */
            width: 100%;
            background-color: #ffffff; /* White background */
            padding: 30px;
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08); /* Softer, deeper shadow */
            margin-top: 30px; /* Add some margin from the top */
        }

        /* Styling for each question page */
        .question-page {
            display: none; /* Hidden by default */
            animation: fadeIn 0.5s ease-in-out; /* Fade-in animation */
        }
        .question-page.active {
            display: block; /* Show active page */
        }

        /* Animation for fading in questions */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Information section (e.g., question number, score) */
        .question-info {
            font-size: 0.95em;
            color: #6a737d; /* Slightly darker gray */
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee; /* Subtle separator */
        }

        /* Question text styling */
        .question-text {
            font-size: 1.25em; /* Larger font for question */
            margin-bottom: 25px;
            font-weight: 600; /* Semi-bold */
            line-height: 1.5;
            color: #2c3e50; /* Darker text */
        }

        /* Options container */
        .options {
            margin-bottom: 20px;
        }

        /* Styling for each option label */
        .options label {
            display: block;
            margin-bottom: 12px; /* More space between options */
            cursor: pointer;
            padding: 14px 20px; /* More padding */
            border: 1px solid #dcdcdc; /* Lighter border */
            border-radius: 8px; /* Rounded corners for options */
            transition: all 0.3s ease; /* Smooth transition for all properties */
            background-color: #fcfcfc;
            box-shadow: 0 2px 5px rgba(0,0,0,0.03); /* Very subtle shadow */
            display: flex;
            align-items: center;
        }

        /* Hover effect for options */
        .options label:hover {
            background-color: #e8f0fe; /* Light blue on hover */
            border-color: #a8d4ff; /* Blue border on hover */
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); /* Slightly more prominent shadow */
        }

        /* Styling for radio buttons */
        .options input[type="radio"] {
            margin-right: 15px; /* More space for radio button */
            transform: scale(1.2); /* Slightly larger radio button */
            accent-color: #007bff; /* Accent color for checked radio */
        }

        /* Feedback message styling (correct/incorrect) */
        .feedback {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
            opacity: 0; /* Hidden by default */
            transform: translateY(-10px);
            animation: slideInFadeIn 0.4s forwards; /* Animation for feedback */
        }
        .feedback.correct {
            background-color: #e6ffe6; /* Light green */
            color: #28a745; /* Dark green */
            border: 1px solid #28a745;
        }
        .feedback.incorrect {
            background-color: #ffe6e6; /* Light red */
            color: #dc3545; /* Dark red */
            border: 1px solid #dc3545;
        }

        /* Animation for feedback message */
        @keyframes slideInFadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Translation section styling */
        .translation-section {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px dashed #e0e0e0; /* Dashed line separator */
            display: none; /* Hidden by default */
            animation: fadeIn 0.5s ease-in-out;
        }

        .translation-section label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
            font-size: 1.1em;
        }

        .translation-section textarea {
            width: calc(100% - 22px); /* Adjust for padding and border */
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 1em;
            min-height: 60px;
            resize: vertical; /* Allow vertical resizing */
            margin-bottom: 15px;
        }

        /* Check Translation button */
        .translation-section .check-translation-btn {
            background-color: #17a2b8; /* Teal color */
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 500;
            transition: background-color 0.3s ease;
            margin-bottom: 15px;
        }

        .translation-section .check-translation-btn:hover:not(:disabled) {
            background-color: #138496; /* Darker teal on hover */
        }

        .translation-section .check-translation-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }


        .translation-section .correct-translation {
            margin-top: 15px;
            padding: 12px;
            background-color: #e8f0fe; /* Light blue background */
            border: 1px solid #a8d4ff;
            border-radius: 8px;
            font-weight: 500;
            color: #0056b3; /* Darker blue text */
            font-size: 1em;
            line-height: 1.4;
            display: none; /* Hidden by default, will be shown after checking translation */
        }

        /* Button container */
        .buttons {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
            gap: 15px; /* Space between buttons */
            flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
        }

        /* Common button styling */
        .buttons button {
            padding: 12px 22px; /* Generous padding */
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05em;
            font-weight: 500;
            transition: all 0.3s ease;
            flex-grow: 1; /* Allow buttons to grow and fill space */
            min-width: 120px; /* Minimum width for buttons */
        }

        /* Check Answer button styling */
        .buttons .check-btn {
            background-color: #007bff; /* Blue */
            color: white;
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);
        }
        .buttons .check-btn:hover:not(:disabled) {
            background-color: #0056b3; /* Darker blue on hover */
            box-shadow: 0 6px 15px rgba(0, 123, 255, 0.3);
        }
        .buttons .check-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Navigation button styling */
        .buttons .nav-btn {
            background-color: #6c757d; /* Gray */
            color: white;
            box-shadow: 0 4px 10px rgba(108, 117, 125, 0.2);
        }
        .buttons .nav-btn:hover:not(:disabled) {
            background-color: #5a6268; /* Darker gray on hover */
            box-shadow: 0 6px 15px rgba(108, 117, 125, 0.3);
        }
        .buttons .nav-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Results page styling */
        #results-page {
            text-align: center;
            display: none; /* Hidden by default */
            margin-top: 30px;
            animation: fadeIn 0.5s ease-in-out;
        }
        #results-page h2 {
            color: #007bff;
            margin-bottom: 15px;
            font-size: 2em;
            font-weight: 700;
        }
        #results-page p {
            font-size: 1.3em;
            margin-bottom: 30px;
            color: #4a4a4a;
        }

        /* Restart button styling */
        #restart-btn {
            background-color: #28a745; /* Green */
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.15em;
            font-weight: 600;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(40, 167, 69, 0.2);
        }
        #restart-btn:hover {
            background-color: #218838; /* Darker green on hover */
            box-shadow: 0 6px 15px rgba(40, 167, 69, 0.3);
        }

        /* Responsive adjustments */
        @media (max-width: 500px) {
            .quiz-container {
                padding: 20px;
                margin-top: 15px;
            }
            .question-text {
                font-size: 1.1em;
            }
            .options label {
                padding: 12px 15px;
            }
            .buttons button {
                width: 100%; /* Full width buttons on small screens */
                min-width: unset;
                flex-grow: unset;
            }
            .translation-section textarea {
                width: calc(100% - 20px); /* Adjust for padding only */
            }
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        <div id="quiz-pages">
            <!-- Questions will be dynamically injected here by JavaScript -->
        </div>

        <div id="results-page">
            <h2>Quiz Completed!</h2>
            <p>You scored <span id="final-score">0</span> out of <span id="total-questions">0</span>.</p>
            <button id="restart-btn">Restart Quiz</button>
        </div>
    </div>

    <script>
        // Array containing all quiz questions, options, and correct answers
        const questions = [
            {
                question: "She has an impressive academic record and is known to be __________ with a passion for discovering how things work.",
                options: ["A. a vocational trainee", "B. an enquiring mind", "C. a full-time applicant", "D. an electric intellect"],
                answer: "B",
                translation: "Cô ấy có một thành tích học tập ấn tượng và được biết đến là một người có trí tò mò với niềm đam mê khám phá cách mọi thứ hoạt động."
            },
            {
                question: "The university is running __________ next week to help students explore employment opportunities after graduation.",
                options: ["A. a graduate fair", "B. a prestigious contest", "C. an application form", "D. a robotics class"],
                answer: "A",
                translation: "Trường đại học sẽ tổ chức một hội chợ việc làm cho sinh viên tốt nghiệp vào tuần tới để giúp sinh viên khám phá cơ hội việc làm sau khi tốt nghiệp."
            },
            {
                question: "All candidates are required to __________ a formal application before the deadline.",
                options: ["A. gain", "B. attach", "C. submit", "D. sort"],
                answer: "C",
                translation: "Tất cả các ứng viên được yêu cầu nộp đơn chính thức trước thời hạn."
            },
            {
                question: "In today’s job market, adaptability and __________ are more valued than ever.",
                options: ["A. outgoing personalities", "B. vocational schools", "C. high-pitched noises", "D. scientific innovations"],
                answer: "A",
                translation: "Trong thị trường việc làm ngày nay, khả năng thích nghi và tính cách hướng ngoại được đánh giá cao hơn bao giờ hết."
            },
            {
                question: "To be successful in this career path, you must have the ability to work under pressure and __________ new skills quickly.",
                options: ["A. flatten out", "B. concentrate on", "C. master", "D. suffuse"],
                answer: "C",
                translation: "Để thành công trong con đường sự nghiệp này, bạn phải có khả năng làm việc dưới áp lực và nắm vững các kỹ năng mới một cách nhanh chóng."
            },
            {
                question: "He is highly respected in the medical community and is regarded as a leading __________ in cancer treatment.",
                options: ["A. alumnus", "B. clinician", "C. composer", "D. applicant"],
                answer: "B",
                translation: "Ông ấy rất được kính trọng trong cộng đồng y tế và được coi là một bác sĩ lâm sàng hàng đầu trong điều trị ung thư."
            },
            {
                question: "The young scientist’s research made a substantial __________ to the decoding of the human genome.",
                options: ["A. qualification", "B. contribution", "C. recruitment", "D. affliction"],
                answer: "B",
                translation: "Nghiên cứu của nhà khoa học trẻ đã đóng góp đáng kể vào việc giải mã bộ gen người."
            },
            {
                question: "Many part-time students struggle to balance work and studies due to __________ to focus.",
                options: ["A. little time", "B. high ambition", "C. accurate interest", "D. scientific potential"],
                answer: "A",
                translation: "Nhiều sinh viên bán thời gian gặp khó khăn trong việc cân bằng công việc và học tập do có ít thời gian để tập trung."
            },
            {
                question: "The laboratory is a __________ of innovation where students and researchers work side by side.",
                options: ["A. bump", "B. gap", "C. hub", "D. channel"],
                answer: "C",
                translation: "Phòng thí nghiệm là một trung tâm đổi mới nơi sinh viên và nhà nghiên cứu làm việc cùng nhau."
            },
            {
                question: "Instead of following a traditional academic path, she enrolled in a __________ to learn practical skills in culinary arts.",
                options: ["A. robotics class", "B. vocational training", "C. cookery program", "D. graduate fair"],
                answer: "B",
                translation: "Thay vì theo đuổi con đường học thuật truyền thống, cô ấy đã đăng ký một khóa đào tạo nghề để học các kỹ năng thực tế trong nghệ thuật ẩm thực."
            },
            {
                question: "The internship program aims to __________ young talents into research-based careers.",
                options: ["A. interpret", "B. channel", "C. bump", "D. compete"],
                answer: "B",
                translation: "Chương trình thực tập nhằm mục đích hướng những tài năng trẻ vào các sự nghiệp dựa trên nghiên cứu."
            },
            {
                question: "His __________ allowed him to thrive in vastly diverse disciplines, from robotics to classical music.",
                options: ["A. vocational school", "B. intellect", "C. qualification", "D. institute"],
                answer: "B",
                translation: "Trí tuệ của anh ấy đã cho phép anh ấy phát triển mạnh mẽ trong các lĩnh vực đa dạng, từ người máy đến âm nhạc cổ điển."
            },
            {
                question: "The engineer’s design was praised for its innovation and remarkable __________, demonstrating both skill and precision.",
                options: ["A. craftsmanship", "B. emphasis", "C. automation", "D. affection"],
                answer: "A",
                translation: "Thiết kế của kỹ sư được ca ngợi về sự đổi mới và sự khéo léo đáng nể, thể hiện cả kỹ năng và độ chính xác."
            },
            {
                question: "Candidates must fill out __________ and submit it along with a CV and cover letter.",
                options: ["A. a recruitment program", "B. an application form", "C. a robotics class", "D. a graduate fair"],
                answer: "B",
                translation: "Các ứng viên phải điền vào đơn đăng ký và nộp cùng với CV và thư xin việc."
            },
            {
                question: "Only a few students had __________ of working in a scientific lab before joining the university.",
                options: ["A. ambition", "B. adaptability", "C. experience", "D. intellect"],
                answer: "C",
                translation: "Chỉ một vài sinh viên có kinh nghiệm làm việc trong phòng thí nghiệm khoa học trước khi vào đại học."
            },
            {
                question: "The job advertisement states that the company will __________ applicants to attend a group interview.",
                options: ["A. require", "B. encourage", "C. unleash", "D. inspire"],
                answer: "A",
                translation: "Quảng cáo việc làm nêu rõ rằng công ty sẽ yêu cầu các ứng viên tham dự một cuộc phỏng vấn nhóm."
            },
            {
                question: "This institution has long had a strong __________ top-quality engineering programs.",
                options: ["A. contribution for", "B. confidence in", "C. reputation for", "D. qualification in"],
                answer: "C",
                translation: "Tổ chức này từ lâu đã có danh tiếng vững chắc về các chương trình kỹ thuật chất lượng hàng đầu."
            },
            {
                question: "__________ of robotics and biology is leading to major breakthroughs in prosthetic limbs.",
                options: ["A. The symbiosis", "B. The channeling", "C. The decoding", "D. The affection"],
                answer: "A",
                translation: "Sự cộng sinh giữa người máy và sinh học đang dẫn đến những đột phá lớn trong chân tay giả."
            },
            {
                question: "Before submitting your project, make sure you __________ all necessary documents to the email.",
                options: ["A. interpret", "B. synthesize", "C. attach", "D. stimulate"],
                answer: "C",
                translation: "Trước khi gửi dự án của bạn, hãy đảm bảo bạn đính kèm tất cả các tài liệu cần thiết vào email."
            },
            {
                question: "A closer look at the chart reveals that the employment rate for full-time students __________ in 2022.",
                options: ["A. flattened out", "B. reached its lowest", "C. gained its peak", "D. emphasized"],
                answer: "A",
                translation: "Nhìn kỹ hơn vào biểu đồ cho thấy tỷ lệ việc làm của sinh viên toàn thời gian đã ổn định vào năm 2022."
            },
            {
                question: "Many students join a variety of clubs to __________ extracurricular activities with academic studies.",
                options: ["A. possess", "B. stimulate", "C. get involved in", "D. unleash"],
                answer: "C",
                translation: "Nhiều sinh viên tham gia nhiều câu lạc bộ để tham gia các hoạt động ngoại khóa cùng với việc học."
            },
            {
                question: "A highly gifted student may still struggle without the __________ to adjust to new learning environments.",
                options: ["A. ambition", "B. adaptability", "C. affection", "D. qualification"],
                answer: "B",
                translation: "Một học sinh có năng khiếu cao vẫn có thể gặp khó khăn nếu không có khả năng thích nghi với môi trường học tập mới."
            },
            {
                question: "The old blacksmith’s shop still displays an ironmonger’s tools, including a heavy __________ once used for shaping metal.",
                options: ["A. corridor", "B. anvil", "C. magnet", "D. channel"],
                answer: "B",
                translation: "Cửa hàng của thợ rèn cũ vẫn trưng bày các công cụ của người thợ rèn, bao gồm một cái đe nặng từng được dùng để tạo hình kim loại."
            },
            {
                question: "The robotics team managed to __________ a national competition in record time, gaining attention from top universities.",
                options: ["A. run", "B. sort", "C. flatten", "D. unleash"],
                answer: "A",
                translation: "Đội robot đã quản lý để tổ chức một cuộc thi quốc gia trong thời gian kỷ lục, thu hút sự chú ý từ các trường đại học hàng đầu."
            },
            {
                question: "This report puts __________ the importance of developing both technical and interpersonal skills.",
                options: ["A. attention at", "B. emphasis on", "C. qualification to", "D. relation to"],
                answer: "B",
                translation: "Báo cáo này nhấn mạnh tầm quan trọng của việc phát triển cả kỹ năng kỹ thuật và kỹ năng giao tiếp."
            },
            {
                question: "We were surprised to bump into our __________ teacher during the university alumni event.",
                options: ["A. vocational", "B. part-time", "C. former", "D. affectionate"],
                answer: "C",
                translation: "Chúng tôi ngạc nhiên khi tình cờ gặp lại giáo viên cũ của mình trong sự kiện cựu sinh viên đại học."
            },
            {
                question: "The team hopes to __________ the use of AI to improve the efficiency of healthcare delivery.",
                options: ["A. flatten", "B. channel", "C. reach", "D. encourage"],
                answer: "B",
                translation: "Nhóm hy vọng sẽ định hướng việc sử dụng AI để cải thiện hiệu quả cung cấp dịch vụ chăm sóc sức khỏe."
            },
            {
                question: "__________ job opportunities can make it difficult for humanities graduates to apply their degrees directly.",
                options: ["A. At a premium", "B. With the exception", "C. In relation", "D. In symbiosis"],
                answer: "A",
                translation: "Cơ hội việc làm khan hiếm có thể khiến sinh viên tốt nghiệp ngành nhân văn khó áp dụng trực tiếp bằng cấp của họ."
            },
            {
                question: "Only after years of dedication did she __________ her dream of becoming a classical music composer.",
                options: ["A. achieve", "B. interpret", "C. encourage", "D. attach"],
                answer: "A",
                translation: "Chỉ sau nhiều năm cống hiến, cô ấy mới đạt được ước mơ trở thành một nhà soạn nhạc cổ điển."
            },
            {
                question: "Rather than giving up, he chose to __________ the challenge with determination and creativity.",
                options: ["A. stimulate", "B. flatten", "C. master", "D. inspire"],
                answer: "C",
                translation: "Thay vì từ bỏ, anh ấy đã chọn vượt qua thử thách với quyết tâm và sự sáng tạo."
            },
            {
                question: "Thanks to her __________ nature, she quickly made friends in the international student community.",
                options: ["A. sporty", "B. former", "C. affectionate", "D. outgoing"],
                answer: "D",
                translation: "Nhờ bản tính hướng ngoại, cô ấy nhanh chóng kết bạn trong cộng đồng sinh viên quốc tế."
            },
            {
                question: "__________ to explore space has driven major scientific innovations across many fields.",
                options: ["A. Intellect", "B. Discipline", "C. Ambition", "D. Institution"],
                answer: "C",
                translation: "Tham vọng khám phá không gian đã thúc đẩy những đổi mới khoa học lớn trên nhiều lĩnh vực."
            },
            {
                question: "Children are more likely to succeed in school if teachers __________ them to ask questions and experiment.",
                options: ["A. inspire", "B. encourage", "C. compete", "D. possess"],
                answer: "B",
                translation: "Trẻ em có nhiều khả năng thành công hơn ở trường nếu giáo viên khuyến khích chúng đặt câu hỏi và thử nghiệm."
            },
            {
                question: "Applicants must demonstrate that their previous experience is directly __________ the role they are applying for.",
                options: ["A. sympathetic to", "B. relevant to", "C. involved in", "D. attached to"],
                answer: "B",
                translation: "Các ứng viên phải chứng minh rằng kinh nghiệm trước đây của họ trực tiếp liên quan đến vai trò mà họ đang ứng tuyển."
            },
            {
                question: "The automated construction of homes using AI-controlled robots is an example of how we can __________ human potential.",
                options: ["A. unleash", "B. synthesize", "C. interpret", "D. sort"],
                answer: "A",
                translation: "Việc xây dựng nhà tự động bằng robot điều khiển bằng AI là một ví dụ về cách chúng ta có thể giải phóng tiềm năng con người."
            },
            {
                question: "Her voice was too soft to hear clearly, especially with all the __________ in the background.",
                options: ["A. high achievers", "B. high-pitched noises", "C. scientific disciplines", "D. prestigious universities"],
                answer: "B",
                translation: "Giọng nói của cô ấy quá nhỏ để nghe rõ, đặc biệt là với tất cả những tiếng ồn cao trong nền."
            },
            {
                question: "Some students __________ casual part-time jobs as baristas to cover their living expenses.",
                options: ["A. have", "B. get involved in", "C. compete with", "D. take the responsibility for"],
                answer: "A",
                translation: "Một số sinh viên có công việc bán thời gian bình thường như pha chế cà phê để trang trải chi phí sinh hoạt."
            },
            {
                question: "Before making a __________ into a new career, it’s important to assess your skills and goals.",
                options: ["A. symbiosis", "B. reputation", "C. leap into the dark", "D. vocational school"],
                answer: "C",
                translation: "Trước khi thực hiện một bước nhảy vọt vào một sự nghiệp mới, điều quan trọng là phải đánh giá các kỹ năng và mục tiêu của bạn."
            },
            {
                question: "The exhibition features a gowned scholar standing beside a(n) __________ to symbolize the fusion of knowledge and industry.",
                options: ["A. intellect", "B. institute", "C. anvil", "D. application"],
                answer: "C",
                translation: "Triển lãm có một học giả mặc áo choàng đứng bên cạnh một cái đe để tượng trưng cho sự kết hợp giữa tri thức và công nghiệp."
            },
            {
                question: "Her face was __________ with light as she received her diploma on stage.",
                options: ["A. suffused", "B. augmented", "C. synthesized", "D. mastered"],
                answer: "A",
                translation: "Khuôn mặt cô ấy tràn ngập ánh sáng khi cô ấy nhận bằng tốt nghiệp trên sân khấu."
            },
            {
                question: "Many of today’s most exciting technologies were developed through the __________ of multiple disciplines.",
                options: ["A. enshrinement", "B. decoding", "C. symbiosis", "D. affection"],
                answer: "C",
                translation: "Nhiều công nghệ thú vị nhất hiện nay được phát triển thông qua sự cộng sinh của nhiều lĩnh vực."
            },
            {
                question: "The __________ of the human genome has led to major advances in personalized medicine.",
                options: ["A. augmentation", "B. decoding", "C. automation", "D. stimulation"],
                answer: "B",
                translation: "Việc giải mã bộ gen người đã dẫn đến những tiến bộ lớn trong y học cá nhân hóa."
            },
            {
                question: "We aim to __________ curiosity and innovation through hands-on robotics classes.",
                options: ["A. stimulate", "B. possess", "C. master", "D. emphasize"],
                answer: "A",
                translation: "Chúng tôi hướng đến việc kích thích sự tò mò và đổi mới thông qua các lớp học robot thực hành."
            },
            {
                question: "As a(n) __________, she often returns to her university to mentor younger students.",
                options: ["A. applicant", "B. intellect", "C. alumnus", "D. composer"],
                answer: "C",
                translation: "Là một cựu sinh viên, cô ấy thường xuyên trở lại trường đại học để hướng dẫn các sinh viên trẻ hơn."
            },
            {
                question: "The institute is known for its __________ research facilities and commitment to innovation.",
                options: ["A. high-pitched", "B. affectionate", "C. vocational", "D. top-quality"],
                answer: "D",
                translation: "Viện được biết đến với các cơ sở nghiên cứu chất lượng hàng đầu và cam kết đổi mới."
            },
            {
                question: "The professor was __________ toward her students, offering both support and constructive feedback.",
                options: ["A. ambitious", "B. affectionate", "C. down-to-earth", "D. visible"],
                answer: "B",
                translation: "Giáo sư rất tình cảm với sinh viên của mình, luôn hỗ trợ và đưa ra phản hồi mang tính xây dựng."
            },
            {
                question: "We were told not to __________ the opportunity to work alongside leading researchers.",
                options: ["A. master", "B. interpret", "C. take for granted", "D. bump into"],
                answer: "C",
                translation: "Chúng tôi được bảo không nên coi thường cơ hội làm việc cùng với các nhà nghiên cứu hàng đầu."
            },
            {
                question: "The startup gained funding after demonstrating the potential to __________ the efficiency of supply chains.",
                options: ["A. synthesize", "B. augment", "C. flatten", "D. enshrine"],
                answer: "B",
                translation: "Công ty khởi nghiệp đã nhận được tài trợ sau khi chứng minh tiềm năng tăng cường hiệu quả chuỗi cung ứng."
            },
            {
                question: "The results were barely __________ due to poor lighting and low-resolution sensors.",
                options: ["A. visible", "B. affectionate", "C. relevant", "D. vocational"],
                answer: "A",
                translation: "Kết quả hầu như không nhìn thấy được do ánh sáng kém và cảm biến độ phân giải thấp."
            },
            {
                question: "While walking through the corridor, I unexpectedly __________ my old science teacher.",
                options: ["A. suffused", "B. mastered", "C. bumped into", "D. interpreted"],
                answer: "C",
                translation: "Khi đi qua hành lang, tôi bất ngờ gặp lại giáo viên khoa học cũ của mình."
            },
            {
                question: "During the graduate fair, many companies launched a new __________ to attract young talent.",
                options: ["A. vocational training", "B. part-time job", "C. recruitment program", "D. cookery program"],
                answer: "C",
                translation: "Trong hội chợ việc làm cho sinh viên tốt nghiệp, nhiều công ty đã khởi động một chương trình tuyển dụng mới để thu hút nhân tài trẻ."
            },
            {
                question: "__________ schools are ideal for students who want to gain hands-on skills rather than pursue academic theory.",
                options: ["A. Prestigious", "B. Vocational", "C. Scientific", "D. Automated"],
                answer: "B",
                translation: "Các trường dạy nghề lý tưởng cho những sinh viên muốn có được kỹ năng thực hành hơn là theo đuổi lý thuyết học thuật."
            },
            {
                question: "In a robotics class, students learn how to build and program machines using sensors and __________ systems.",
                options: ["A. interpretive", "B. augmented", "C. automated", "D. qualified"],
                answer: "C",
                translation: "Trong một lớp học robot, học sinh học cách xây dựng và lập trình máy móc bằng cách sử dụng cảm biến và hệ thống tự động."
            },
            {
                question: "As a __________, she divides her time between clinical work and medical research.",
                options: ["A. clinician", "B. composer", "C. representative", "D. scientist"],
                answer: "A",
                translation: "Là một bác sĩ lâm sàng, cô ấy dành thời gian giữa công việc lâm sàng và nghiên cứu y học."
            },
            {
                question: "We need someone who can __________ their emotions and remain calm under pressure.",
                options: ["A. flatten", "B. master", "C. bump", "D. suffuse"],
                answer: "B",
                translation: "Chúng ta cần một người có thể kiểm soát cảm xúc của họ và giữ bình tĩnh dưới áp lực."
            },
            {
                question: "He is a(n) __________ who enjoys every kind of physical activity, from rock climbing to football.",
                options: ["A. affectionate", "B. high achiever", "C. sporty person", "D. intellect"],
                answer: "C",
                translation: "Anh ấy là một người năng động, thích mọi loại hoạt động thể chất, từ leo núi đá đến bóng đá."
            },
            {
                question: "You should __________ your career goals before choosing a university major.",
                options: ["A. sort out", "B. flatten", "C. synthesize", "D. bump into"],
                answer: "A",
                translation: "Bạn nên sắp xếp các mục tiêu nghề nghiệp của mình trước khi chọn một ngành học đại học."
            },
            {
                question: "The university encourages students to __________ their interests into meaningful research projects.",
                options: ["A. interpret", "B. channel", "C. attach", "D. compete"],
                answer: "B",
                translation: "Trường đại học khuyến khích sinh viên định hướng sở thích của họ vào các dự án nghiên cứu có ý nghĩa."
            },
            {
                question: "The event aims to celebrate the __________ between technology and classical music.",
                options: ["A. contribution", "B. leap", "C. symbiosis", "D. interaction"],
                answer: "C",
                translation: "Sự kiện nhằm kỷ niệm sự cộng sinh giữa công nghệ và âm nhạc cổ điển."
            },
            {
                question: "Many people underestimate how much scientists __________ to improving our everyday lives.",
                options: ["A. enshrine", "B. contribute", "C. master", "D. flatten"],
                answer: "B",
                translation: "Nhiều người đánh giá thấp mức độ đóng góp của các nhà khoa học vào việc cải thiện cuộc sống hàng ngày của chúng ta."
            },
            {
                question: "She was accepted into a __________ university known for producing Nobel laureates.",
                options: ["A. vocational", "B. prestigious", "C. relevant", "D. automated"],
                answer: "B",
                translation: "Cô ấy được nhận vào một trường đại học danh tiếng nổi tiếng với việc sản xuất các giải Nobel."
            },
            {
                question: "With only one week before the exam, he had __________ to review all the materials.",
                options: ["A. no ambition", "B. little time", "C. many interests", "D. strong qualifications"],
                answer: "B",
                translation: "Chỉ còn một tuần trước kỳ thi, anh ấy có rất ít thời gian để ôn tập tất cả các tài liệu."
            },
            {
                question: "The institute aims to help students __________ their creative potential and pursue original research.",
                options: ["A. reach", "B. possess", "C. unleash", "D. enshrine"],
                answer: "C",
                translation: "Viện nhằm mục đích giúp sinh viên phát huy tiềm năng sáng tạo của họ và theo đuổi nghiên cứu gốc."
            },
            {
                question: "__________ scientific breakthroughs often require years of trial and error.",
                options: ["A. Alternatively", "B. Barely", "C. Highly gifted", "D. Extraordinary"],
                answer: "D",
                translation: "Những đột phá khoa học phi thường thường đòi hỏi nhiều năm thử nghiệm và sai sót."
            },
            {
                question: "The new drug is the result of years of work in the __________ of cancer treatment.",
                options: ["A. advancement", "B. qualification", "C. requirement", "D. automation"],
                answer: "A",
                translation: "Thuốc mới là kết quả của nhiều năm nghiên cứu trong lĩnh vực tiến bộ điều trị ung thư."
            },
            {
                question: "This course places strong __________ practical experience in lab work.",
                options: ["A. synthesis of", "B. emphasis on", "C. affection for", "D. exception to"],
                answer: "B",
                translation: "Khóa học này đặt trọng tâm mạnh mẽ vào kinh nghiệm thực tế trong công việc phòng thí nghiệm."
            },
            {
                question: "He has a(n) __________ for excellence and never settles for average results.",
                options: ["A. intellect", "B. emphasis", "C. ambition", "D. qualification"],
                answer: "C",
                translation: "Anh ấy có tham vọng xuất sắc và không bao giờ chấp nhận kết quả trung bình."
            },
            {
                question: "The chart shows that employment in the IT sector began to __________ at 78% in 2019.",
                options: ["A. flatten out", "B. bump into", "C. synthesize", "D. stimulate"],
                answer: "A",
                translation: "Biểu đồ cho thấy rằng việc làm trong lĩnh vực CNTT bắt đầu ổn định ở mức 78% vào năm 2019."
            },
            {
                question: "She completed her __________ in business administration before moving into consulting.",
                options: ["A. interest", "B. reputation", "C. institution", "D. qualification"],
                answer: "D",
                translation: "Cô ấy đã hoàn thành bằng cấp về quản trị kinh doanh trước khi chuyển sang tư vấn."
            },
            {
                question: "I was impressed by how she could __________ complex ideas in a simple and engaging way.",
                options: ["A. interpret", "B. stimulate", "C. bump into", "D. compete with"],
                answer: "A",
                translation: "Tôi rất ấn tượng về cách cô ấy có thể diễn giải những ý tưởng phức tạp một cách đơn giản và hấp dẫn."
            },
            {
                question: "We need people who can demonstrate __________ to fast-changing working conditions.",
                options: ["A. intellect", "B. adaptability", "C. interaction", "D. qualification"],
                answer: "B",
                translation: "Chúng ta cần những người có thể thể hiện khả năng thích nghi với điều kiện làm việc thay đổi nhanh chóng."
            },
            {
                question: "He showed great __________ in solving difficult problems and proposing new theories.",
                options: ["A. composer", "B. intellect", "C. automation", "D. recruitment"],
                answer: "B",
                translation: "Anh ấy đã thể hiện trí tuệ tuyệt vời trong việc giải quyết các vấn đề khó khăn và đề xuất các lý thuyết mới."
            },
            {
                question: "The institute offers a wide range of programs across __________ such as engineering, design, and medicine.",
                options: ["A. disciplines", "B. symbioses", "C. vocations", "D. intellects"],
                answer: "A",
                translation: "Viện cung cấp một loạt các chương trình trên các lĩnh vực như kỹ thuật, thiết kế và y học."
            },
            {
                question: "Modern musicians often experiment with __________ like the electric violin or cello.",
                options: ["A. sensors", "B. disciplines", "C. electric classical instruments", "D. pocket calculators"],
                answer: "C",
                translation: "Các nhạc sĩ hiện đại thường thử nghiệm với các nhạc cụ cổ điển điện tử như violin điện hoặc cello."
            },
            {
                question: "The __________ from this university includes CEOs, scientists, and world leaders.",
                options: ["A. symbiosis", "B. workforce", "C. composer", "D. alumni"],
                answer: "D",
                translation: "Cựu sinh viên của trường đại học này bao gồm các CEO, nhà khoa học và các nhà lãnh đạo thế giới."
            },
            {
                question: "__________ calculators became popular tools for students in the late 20th century.",
                options: ["A. Automated", "B. Pocket", "C. Visible", "D. Scientific"],
                answer: "B",
                translation: "Máy tính bỏ túi đã trở thành công cụ phổ biến cho học sinh vào cuối thế kỷ 20."
            },
            {
                question: "Her free-time interests include photography, hiking, and watching __________ on food culture.",
                options: ["A. application forms", "B. cookery programs", "C. scientific innovations", "D. anvil workshops"],
                answer: "B",
                translation: "Sở thích lúc rảnh rỗi của cô ấy bao gồm chụp ảnh, đi bộ đường dài và xem các chương trình nấu ăn về văn hóa ẩm thực."
            },
            {
                question: "The __________ between humans and AI continues to raise ethical and practical questions.",
                options: ["A. bump", "B. mastery", "C. interaction", "D. intellect"],
                answer: "C",
                translation: "Sự tương tác giữa con người và AI tiếp tục đặt ra các câu hỏi đạo đức và thực tiễn."
            },
            {
                question: "She was asked to __________ her CV and portfolio to the application form.",
                options: ["A. attach", "B. compete", "C. bump", "D. master"],
                answer: "A",
                translation: "Cô ấy được yêu cầu đính kèm CV và hồ sơ của mình vào đơn đăng ký."
            }
        ];

        // Global variables to manage quiz state
        let currentQuestionIndex = 0; // Tracks the current question being displayed
        let score = 0; // Stores the user's score
        // quizAnswers stores the user's selected answer for each question (e.g., 'C' for question 0)
        let quizAnswers = new Array(questions.length).fill(null);
        // quizFeedback stores whether the user's answer was 'correct' or 'incorrect' for each question
        let quizFeedback = new Array(questions.length).fill(null);
        // userTranslations stores the user's input for translation for each question
        let userTranslations = new Array(questions.length).fill(''); // Initialize with empty strings
        // translationChecked stores whether the user has clicked "Sample translation" for a question
        let translationChecked = new Array(questions.length).fill(false);


        // Get references to DOM elements
        const quizPagesContainer = document.getElementById('quiz-pages');
        const resultsPage = document.getElementById('results-page');
        const finalScoreSpan = document.getElementById('final-score');
        const totalQuestionsSpan = document.getElementById('total-questions');
        const restartBtn = document.getElementById('restart-btn');

        /**
         * Initializes or restarts the quiz.
         * Resets score, current question index, and clears previous answers/feedback.
         * Renders all questions and displays the first one.
         */
        function initializeQuiz() {
            quizPagesContainer.innerHTML = ''; // Clear any existing question elements
            score = 0; // Reset score
            currentQuestionIndex = 0; // Go back to the first question
            quizAnswers = new Array(questions.length).fill(null); // Clear all user answers
            quizFeedback = new Array(questions.length).fill(null); // Clear all feedback
            userTranslations = new Array(questions.length).fill(''); // Clear all user translations
            translationChecked = new Array(questions.length).fill(false); // Reset translation check status
            totalQuestionsSpan.textContent = questions.length; // Display total questions
            renderQuestions(); // Create the HTML for all questions
            showQuestion(currentQuestionIndex); // Show the first question
            resultsPage.style.display = 'none'; // Hide the results page
            quizPagesContainer.style.display = 'block'; // Ensure quiz pages are visible
        }

        /**
         * Renders (creates the HTML for) all questions.
         * Each question gets its own 'question-page' div.
         */
        function renderQuestions() {
            questions.forEach((q, index) => {
                const questionPage = document.createElement('div');
                questionPage.classList.add('question-page');
                questionPage.id = `question-page-${index}`; // Unique ID for each question page

                // Construct the HTML for the question, options, feedback, and navigation buttons
                questionPage.innerHTML = `
                    <div class="question-info">
                        <span>Câu ${index + 1}/${questions.length}</span>
                        <span>Điểm: <span id="score-${index}">${quizFeedback[index] === 'correct' ? 1 : 0}</span></span>
                    </div>
                    <div class="question-text">${q.question}</div>
                    <div class="options" id="options-${index}">
                        ${q.options.map((option, optIndex) => `
                            <label>
                                <input type="radio" name="question-${index}" value="${option.charAt(0)}"
                                    ${quizAnswers[index] === option.charAt(0) ? 'checked' : ''}
                                    onchange="enableCheckButton(${index})">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                    <div class="feedback" id="feedback-${index}"></div>

                    <!-- New Translation Section -->
                    <div class="translation-section" id="translation-section-${index}">
                        <label for="translation-input-${index}">Your Vietnamese Translation:</label>
                        <textarea id="translation-input-${index}" oninput="storeTranslation(${index});">${userTranslations[index]}</textarea>
                        <button class="check-translation-btn" id="check-translation-btn-${index}" onclick="showCorrectTranslation(${index})" disabled>Sample Translation</button>
                        <div class="correct-translation" id="correct-translation-${index}" style="display: none;">
                            ${q.translation}
                        </div>
                    </div>

                    <div class="buttons">
                        <button class="nav-btn prev-btn" onclick="prevQuestion()" ${index === 0 ? 'disabled' : ''}>Previous</button>
                        <button class="check-btn" id="check-btn-${index}" onclick="checkAnswer(${index})">Check Answer</button>
                        <button class="nav-btn next-btn" onclick="nextQuestion()" ${index === questions.length - 1 ? 'disabled' : ''}>Next</button>
                    </div>
                `;
                quizPagesContainer.appendChild(questionPage); // Add the question page to the container

                // Update score display if the question was already answered correctly during a restart
                if (quizFeedback[index] === 'correct') {
                    document.getElementById(`score-${index}`).textContent = '1';
                }
            });
        }

        /**
         * Displays a specific question page and hides all others.
         * @param {number} index - The index of the question to display.
         */
        function showQuestion(index) {
            // Hide all question pages
            document.querySelectorAll('.question-page').forEach((page) => {
                page.classList.remove('active');
            });

            // Show the requested question page
            const targetPage = document.getElementById(`question-page-${index}`);
            if (targetPage) {
                targetPage.classList.add('active');
            }

            currentQuestionIndex = index; // Update the current question index
            updateNavigationButtons(); // Enable/disable Prev/Next buttons based on current index
            updateCheckButtonState(index); // Update check button state (enabled/disabled)
            updateFeedbackDisplay(index); // Show/hide feedback based on if question was answered
            updateOptionsEnabledState(index); // Enable/disable options based on if question was answered
            updateTranslationDisplay(index); // Show/hide translation section and load user's previous translation
            updateTranslationCheckButtonState(index); // Ensure translation button state is correct when showing question
        }

        /**
         * Updates the disabled state of the "Previous" and "Next" navigation buttons.
         */
        function updateNavigationButtons() {
            // Get buttons for the currently active question page
            const currentPage = document.getElementById(`question-page-${currentQuestionIndex}`);
            if (!currentPage) return;

            const prevBtn = currentPage.querySelector('.prev-btn');
            const nextBtn = currentPage.querySelector('.next-btn');

            // Disable 'Previous' button on the first question
            if (prevBtn) {
                prevBtn.disabled = currentQuestionIndex === 0;
            }

            // Disable 'Next' button on the last question, or change text to 'Finish Quiz'
            if (nextBtn) {
                if (currentQuestionIndex === questions.length - 1) {
                    nextBtn.textContent = 'Finish Quiz';
                } else {
                    nextBtn.textContent = 'Next';
                }
            }
        }

        /**
         * Updates the disabled state of the "Check Answer" button for a given question.
         * It is disabled if no option is selected or if the question has already been answered correctly.
         * @param {number} index - The index of the question.
         */
        function updateCheckButtonState(index) {
            const checkBtn = document.getElementById(`check-btn-${index}`);
            const selectedOption = document.querySelector(`input[name="question-${index}"]:checked`);

            if (checkBtn) {
                // Check button is disabled if the question was answered correctly OR if no option is selected
                checkBtn.disabled = (quizFeedback[index] === 'correct') || !selectedOption;
            }
        }

        /**
         * Enables the "Check Answer" button for a question when an option is selected.
         * This is called by the `onchange` event of the radio buttons.
         * @param {number} index - The index of the question.
         */
        function enableCheckButton(index) {
            const checkBtn = document.getElementById(`check-btn-${index}`);
            // Only enable if the question hasn't been answered correctly yet
            if (checkBtn && quizFeedback[index] !== 'correct') {
                checkBtn.disabled = false;
            }
        }

        /**
         * Updates the display of feedback messages for a given question.
         * @param {number} index - The index of the question.
         */
        function updateFeedbackDisplay(index) {
            const feedbackDiv = document.getElementById(`feedback-${index}`);
            if (feedbackDiv) {
                if (quizFeedback[index] === 'correct') {
                    feedbackDiv.textContent = "Correct!";
                    feedbackDiv.classList.remove('incorrect');
                    feedbackDiv.classList.add('correct');
                    feedbackDiv.style.opacity = 1;
                    feedbackDiv.style.transform = 'translateY(0)';
                } else if (quizFeedback[index] === 'incorrect') {
                    feedbackDiv.textContent = `Sai rồi. Vui lòng thử lại.`; // Do not show correct answer here
                    feedbackDiv.classList.remove('correct');
                    feedbackDiv.classList.add('incorrect');
                    feedbackDiv.style.opacity = 1;
                    feedbackDiv.style.transform = 'translateY(0)';
                } else {
                    feedbackDiv.textContent = '';
                    feedbackDiv.classList.remove('correct', 'incorrect');
                    feedbackDiv.style.opacity = 0;
                    feedbackDiv.style.transform = 'translateY(-10px)';
                }
            }
        }

        /**
         * Updates the enabled/disabled state of options for a given question.
         * Options are disabled only if the question has been answered correctly.
         * @param {number} index - The index of the question.
         */
        function updateOptionsEnabledState(index) {
            const optionsDiv = document.getElementById(`options-${index}`);
            if (optionsDiv) {
                const radios = optionsDiv.querySelectorAll('input[type="radio"]');
                const questionAnsweredCorrectly = quizFeedback[index] === 'correct';

                radios.forEach(radio => {
                    radio.disabled = questionAnsweredCorrectly;
                });
            }
        }


        /**
         * Checks the user's selected answer for a given question against the correct answer.
         * Updates score, displays feedback, and disables options/check button.
         * Also displays the translation section.
         * @param {number} index - The index of the question to check.
         */
        function checkAnswer(index) {
            const selectedOption = document.querySelector(`input[name="question-${index}"]:checked`);
            const feedbackDiv = document.getElementById(`feedback-${index}`);
            const scoreSpan = document.getElementById(`score-${index}`);
            const checkBtn = document.getElementById(`check-btn-${index}`);
            const optionsDiv = document.getElementById(`options-${index}`);
            const translationSection = document.getElementById(`translation-section-${index}`);

            // If no option is selected, show a message and do nothing else
            if (!selectedOption) {
                feedbackDiv.textContent = "Please select an answer to check.";
                feedbackDiv.classList.remove('correct', 'incorrect');
                feedbackDiv.style.opacity = 1; // Ensure feedback is visible
                feedbackDiv.style.transform = 'translateY(0)';
                return;
            }

            const userAnswer = selectedOption.value;

            if (userAnswer === questions[index].answer) {
                feedbackDiv.textContent = "Correct!";
                feedbackDiv.classList.remove('incorrect');
                feedbackDiv.classList.add('correct');
                if (quizFeedback[index] !== 'correct') { // Prevent double counting score if re-checking
                    score++;
                    quizFeedback[index] = 'correct'; // Mark as correct
                }
                scoreSpan.textContent = '1'; // Display score for this question as 1

                checkBtn.disabled = true; // Disable check button after checking
                // Disable all radio buttons for this question after checking to prevent changes
                optionsDiv.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.disabled = true;
                });

                // Show the translation section after checking the answer
                if (translationSection) {
                    translationSection.style.display = 'block';
                    updateTranslationCheckButtonState(index); // Update state for translation check button
                }

            } else {
                feedbackDiv.textContent = `Sai rồi. Vui lòng thử lại.`; // Incorrect message, no correct answer revealed
                feedbackDiv.classList.remove('correct');
                feedbackDiv.classList.add('incorrect');
                if (quizFeedback[index] === 'correct') { // If previously correct and now wrong (shouldn't happen with disabled options but for robustness)
                    score--;
                }
                quizFeedback[index] = 'incorrect'; // Mark as incorrect
                scoreSpan.textContent = '0'; // Display score for this question as 0

                checkBtn.disabled = false; // Keep check button enabled for re-selection
                // Keep radio buttons enabled for re-selection
                optionsDiv.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.disabled = false;
                });

                // Keep translation section hidden if answer is incorrect
                if (translationSection) {
                    translationSection.style.display = 'none';
                }
            }

            // Trigger animation for feedback display
            feedbackDiv.style.opacity = 1;
            feedbackDiv.style.transform = 'translateY(0)';
        }

        /**
         * Stores the user's translation input for a given question.
         * @param {number} index - The index of the question.
         */
        function storeTranslation(index) {
            const translationInput = document.getElementById(`translation-input-${index}`);
            if (translationInput) {
                userTranslations[index] = translationInput.value;
                updateTranslationCheckButtonState(index); // Update button state whenever input changes
            }
        }

        /**
         * Updates the disabled state of the "Sample Translation" button.
         * It is enabled only if the translation input has text and the sample translation hasn't been shown yet.
         * @param {number} index - The index of the question.
         */
        function updateTranslationCheckButtonState(index) {
            const checkTranslationBtn = document.getElementById(`check-translation-btn-${index}`);
            const translationInput = document.getElementById(`translation-input-${index}`);
            if (checkTranslationBtn && translationInput) {
                // Button is enabled if there's text in the textarea AND the translation hasn't been shown yet.
                checkTranslationBtn.disabled = translationInput.value.trim() === '' || translationChecked[index];
            }
        }

        /**
         * Shows the correct translation for the current question.
         * @param {number} index - The index of the question.
         */
        function showCorrectTranslation(index) {
            const correctTranslationDiv = document.getElementById(`correct-translation-${index}`);
            const checkTranslationBtn = document.getElementById(`check-translation-btn-${index}`);
            const translationInput = document.getElementById(`translation-input-${index}`);

            if (correctTranslationDiv) {
                correctTranslationDiv.style.display = 'block'; // Show the correct translation
                translationChecked[index] = true; // Mark that translation has been checked
                if (checkTranslationBtn) {
                    checkTranslationBtn.disabled = true; // Disable the button after showing
                }
                if (translationInput) {
                    translationInput.disabled = true; // Disable textarea after showing sample translation
                }
            }
        }

        /**
         * Updates the visibility and content of the translation section when a question is shown.
         * @param {number} index - The index of the question.
         */
        function updateTranslationDisplay(index) {
            const translationSection = document.getElementById(`translation-section-${index}`);
            const translationInput = document.getElementById(`translation-input-${index}`);
            const correctTranslationDiv = document.getElementById(`correct-translation-${index}`);
            const checkTranslationBtn = document.getElementById(`check-translation-btn-${index}`);

            if (translationSection) {
                // Only show the translation section if the question has been answered correctly
                if (quizFeedback[index] === 'correct') {
                    translationSection.style.display = 'block';
                } else {
                    translationSection.style.display = 'none';
                }
            }

            // Load user's previous translation if available
            if (translationInput) {
                translationInput.value = userTranslations[index];
                // Disable textarea if sample translation has been shown
                translationInput.disabled = translationChecked[index];
            }

            // Show/hide correct translation and update button state
            if (correctTranslationDiv) {
                correctTranslationDiv.style.display = translationChecked[index] ? 'block' : 'none';
            }
            updateTranslationCheckButtonState(index); // Re-evaluate button state based on stored data
        }


        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }

        /**
         * Navigates to the next question or displays the results if it's the last question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            } else {
                // If it's the last question and 'Finish Quiz' is clicked
                displayResults();
            }
        }

        /**
         * Displays the final results page.
         */
        function displayResults() {
            quizPagesContainer.style.display = 'none'; // Hide quiz questions
            resultsPage.style.display = 'block'; // Show results page
            finalScoreSpan.textContent = score; // Update final score
        }

        // Event Listeners for initial load and restart button
        window.onload = initializeQuiz;
        restartBtn.onclick = initializeQuiz;
    </script>
</body>
</html>
